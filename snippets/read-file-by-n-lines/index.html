<!DOCTYPE html>



<html lang="en"> 

<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="index,follow">

<meta name="keywords" content="read file in c, read till eof in c, read file by n lines in c">
<meta name="description" content="read a file by n lines in C programming language">
<meta name="author" content="Ahmedur Rahman Shovon">

<meta property="og:url" content="https://arshovon.com/snippets/read-file-by-n-lines/">
<meta property="og:type" content="website">
<meta property="og:title" content="Read File by N Lines using C programming language - Ahmedur Rahman Shovon">
<meta name="og:description" content="read a file by n lines in C programming language">
<meta property="og:image" content="https://arshovon.com/snippets/images/read_file_by_n_lines_program_output.png">
<meta property="og:image:secure_url" content="https://arshovon.com/snippets/images/read_file_by_n_lines_program_output.png">
<meta property="og:image:type" content="image/png">
<meta property="og:image:alt" content="Read File by N Lines using C programming language - Ahmedur Rahman Shovon" />
<meta property="og:site_name" content="Ahmedur Rahman Shovon"/>
<meta property="og:locale" content="en-us">

<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://arshovon.com/snippets/images/read_file_by_n_lines_program_output.png" />
<meta name="twitter:url" content="https://arshovon.com/snippets/read-file-by-n-lines/" />
<meta property="twitter:title" content="Read File by N Lines using C programming language - Ahmedur Rahman Shovon">
<meta name="twitter:description" content="read a file by n lines in C programming language">
<title>Read File by N Lines using C programming language - Ahmedur Rahman Shovon</title>

<link rel="canonical" href="https://arshovon.com/snippets/read-file-by-n-lines/">

<link rel="icon" href="https://arshovon.com/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="shortcut icon" href="https://arshovon.com/assets/images/favicon.ico"
type="image/x-icon"/>
<link href="https://fonts.googleapis.com/css?family=Exo+2:400,400i,600,600i,700,700i" rel="stylesheet">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github-gist.min.css">

<link rel="stylesheet" href="https://arshovon.com/assets/css/arsho.css">
<link rel="stylesheet" href="https://arshovon.com/assets/css/custom.css">



<script async
src="https://www.googletagmanager.com/gtag/js?id=UA-119139307-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-119139307-1');
</script>

</head>
<body>
    <header class="header mb-md-4 mb-lg-4 mb-xl-4">
    
    <nav class="navbar navbar-expand-md navbar-blog">
        <div class="container navbar-container">
            <a class="navbar-brand" href="/">
                AR Shovon
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars navbar-toggler-icon-fa"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                
                <ul class="navbar-nav mr-auto">
    
    <li class="nav-item">
        <a class="nav-link" title="Blog posts" href="/blog">
            <i class="fa fa-laptop-code fa-lg"></i>
            Blog
        </a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link" title="Snippets" href="/snippets">
            <i class="fa fa-code fa-lg"></i>
            Snippets
        </a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link" title="Apps" href="/apps">
            <i class="fa fa-globe fa-lg"></i>
            Apps
        </a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link" title="All categories" href="/categories">
            <i class="fa fa-folder-open fa-lg"></i>
            Categories
        </a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link" title="All tags" href="/tags">
            <i class="fa fa-tags fa-lg"></i>
            Tags
        </a>
    </li>
    
</ul>

                
                
                <ul class="navbar-nav ml-auto navbar-blog-right">
    
    <li class="nav-item">
        <a class="nav-link" title="Linkedin profile" href="https://www.linkedin.com/in/arshovon/">
            <i class="fab fa-linkedin fa-lg"></i>
            arshovon
        </a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link" title="Stackoverflow profile" href="https://stackoverflow.com/users/3129414/arsho">
            <i class="fab fa-stack-overflow fa-lg"></i>
            arsho
        </a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link" title="Github profile" href="https://github.com/arsho/">
            <i class="fab fa-github fa-lg"></i>
            arsho
        </a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link" title="View CV" href="/cv/CV_Shovon.pdf">
            <i class="fas fa-file-pdf fa-lg"></i>
            CV
        </a>
    </li>
    
</ul>

                
            </div>
        </div>
    </nav>
</header>

    <div class="container wrapper">
        <div class="row">
            
            
            


<main class="col-12 blog p-3 p-md-5" role="main">
  <article>
    <header class="mb-4">
      <h3>Read File by N Lines using C programming language</h3>
      <div class="mb-3">
        <span class="float-right badge">
          Published on
          <time datetime="2019-09-29T12:14:12&#43;06:00">
            <i class="fa fa-calendar pr-1"></i>September 29, 2019</time>
          
            , Updated on
            <time datetime="2021-12-29T19:58:17-06:00">
              <i class="fa fa-calendar pr-1"></i>December 29, 2021</time>
          
        </span>
        
        
        <a href="https://arshovon.com/tags/" class="badge badge-secondary" title="All tags"><i class="fa fa-tags"></i></a>

<a href="https://arshovon.com/tags/c" class="badge badge-secondary" title="c">c</a>

<a href="https://arshovon.com/tags/file" class="badge badge-secondary" title="file">file</a>


        
      </div>
    </header>
    <hr class="my-6">
    <p>Read a file by <code>n</code> lines while user pressing <code>y</code> until end of file.</p>

<pre><code class="language-c">/*
Author: Ahmedur Rahman Shovon
License: &quot;GPL&quot;
Date: 2019/09/29
*/
#include &lt;stdio.h&gt;

/* Function that prints a line from file. Update the printf contents to change format. */
void print_line(int line_number, char line[])
{
    printf(&quot;%s&quot;, line);
}

int main()
{
    char filename[] = &quot;data.txt&quot;;
    FILE *file = fopen(filename, &quot;r&quot;);
    int i = 1;
    // Number of lines per chunk
    int n = 3;
    int end = n;
    char user_choice;
    if ( file != NULL )
    {
        char line[1000]; /* or other suitable maximum line size */
        while (fgets(line, sizeof line, file) != NULL) /* read a line */
        {
            if(i&lt;=end)
            {
                print_line(i, line);
            }
            else
            {
                printf(&quot;Do you want to continue? Press 'y' to continue or any other key to exit: &quot;);
                // The begining space is to ignore the enter key press
                scanf(&quot; %c&quot;, &amp;user_choice);
                if(user_choice == 'y')
                {
                    print_line(i, line);
                    end = end + n;
                }
                else
                {
                    printf(&quot;You pressed '%c'\n&quot;, user_choice);
                    break;
                }
            }
            i++;
        }
        fclose(file);
    }
    else
    {
        printf(&quot;Error in reading file&quot;);
    }
    return 0;
}

</code></pre>

<p><code>data.txt</code>:</p>

<pre><code class="language-bash">This is line number 1 with some dummy characters
This is line number 2 with some dummy characters
This is line number 3 with some dummy characters
This is line number 4 with some dummy characters
This is line number 5 with some dummy characters
This is line number 6 with some dummy characters
This is line number 7 with some dummy characters
This is line number 8 with some dummy characters
This is line number 9 with some dummy characters
This is line number 10 with some dummy characters
This is line number 11 with some dummy characters
This is line number 12 with some dummy characters
This is line number 13 with some dummy characters
</code></pre>

<p>Output:</p>

<p><img src="/snippets/images/read_file_by_n_lines_program_output.png" alt="alt Program output of Read File by N Lines" /></p>

  </article>
  


  

<div class="card-deck mt-5">
    
    <div class="card mb-3 bg-light border-light">
        <div class="card-body">
            <h5 class="card-title">
                <i class="fa fa-chevron-left"></i> Previous Post
            </h5>
            <p class="card-text">
                <a href="https://arshovon.com/snippets/8-diamond/" class="pt-2 pb-2">
                    8-diamond
                </a>
            </p>
        </div>
        <div class="card-footer">
            <span class="text_muted small">
                <time datetime="2018-08-19T20:29:37-07:00">
                    <i class="fa fa-calendar pr-1"></i>August 19, 2018</time>
            </span>
        </div>
    </div>
    
    
    <div class="card mb-3 bg-light text-md-right border-light">
        <div class="card-body">
            <h5 class="card-title">
                Next Post <i class="fa fa-chevron-right"></i>
            </h5>
            <p class="card-text">
                <a href="https://arshovon.com/snippets/flask-bootstrap-navbar/" class="pt-2 pb-2">
                    Example of using Bootstrap&#39;s navbar in Flask
                </a>
            </p>
        </div>
        <div class="card-footer">
            <span class="text_muted small">
                <time datetime="2019-10-02T12:14:12&#43;06:00">
                    <i class="fa fa-calendar pr-1"></i>October 2, 2019</time>
            </span>
        </div>
    </div>
    
</div>



</main>


        </div> 
    </div> 
    <footer class="footer">
    <div class="text-center">
        <small>
            Developed with <i class='fas fa-heart datamate_red'></i> by <a href="https://arshovon.com/" title="Ahmedur Rahman Shovon">Ahmedur Rahman Shovon</a>
        </small>
    </div>
</footer>

    
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"
  crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
  integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
  crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>

<script src="https://arshovon.com/assets/js/arsho.js"></script>

</body>
</html>
