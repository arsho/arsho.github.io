<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index,follow"><meta name=keywords content="python"><meta name=description content="How to run a Python script inside a virtual environment in background that writes partial output to a file"><meta name=author content="Ahmedur Rahman Shovon"><meta property="og:url" content="https://arshovon.com/blog/python-background/"><meta property="og:type" content="website"><meta property="og:title" content="Run a Python script inside a virtual environment in the background - Ahmedur Rahman Shovon"><meta name=og:description content="How to run a Python script inside a virtual environment in background that writes partial output to a file"><meta property="og:image" content="https://arshovon.com/blog/images/python_background.png"><meta property="og:image:secure_url" content="https://arshovon.com/blog/images/python_background.png"><meta property="og:image:type" content="image/png"><meta property="og:image:alt" content="Run a Python script inside a virtual environment in the background - Ahmedur Rahman Shovon"><meta property="og:site_name" content="Ahmedur Rahman Shovon"><meta property="og:locale" content="en-us"><meta name=twitter:card content="summary"><meta name=twitter:image content="https://arshovon.com/blog/images/python_background.png"><meta name=twitter:url content="https://arshovon.com/blog/python-background/"><meta property="twitter:title" content="Run a Python script inside a virtual environment in the background - Ahmedur Rahman Shovon"><meta name=twitter:description content="How to run a Python script inside a virtual environment in background that writes partial output to a file"><title>Run a Python script inside a virtual environment in the background - Ahmedur Rahman Shovon</title><link rel=canonical href=https://arshovon.com/blog/python-background/><link rel=icon href=https://arshovon.com/assets/images/favicons/favicon.svg type=image/svg+xml><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx crossorigin=anonymous><script src=https://kit.fontawesome.com/9c9dff05f4.js crossorigin=anonymous></script><link rel=stylesheet href=https://arshovon.com/assets/css/arsho.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119139307-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-119139307-1")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4737800736768640" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/prolog.min.js integrity="sha512-JrKKSmGetELE+7du9jrRs4R9dC6QO5gFIk5s7RRI7wWdG3yueqjDOJPX/3eDc83bE/qyNjMr4gaYVqKDhjQkpg==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/dockerfile.min.js integrity="sha512-y0uGK4Ql/eJrIn2uOu2Hfc/3wnQpAHlEF58pL7akgWaVnuOJ8D5Aal/VPRKyMGADVuAavg1yVdLUpn9PlnGmYA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/shell.min.js integrity="sha512-oXIjzcLt5aPmQEl6MaYwcoCX70QJZq1qiyEYE3tlOixhfsYiTKKftLjJFuRjV7wo3WTHI+wfVr3EJQfRJrMnSQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/sql.min.js integrity="sha512-64D4TOespcFsS6vnnca/aON48/6XNG61BAtQj7WG+8qAZXclMfx92cXC7l56/FuHLNY9FeDvLPqVuT3x4AptgA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js></script><link rel=stylesheet href=https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css></head><header class="d-print-none header mb-md-4 mb-lg-4 mb-xl-4"><nav id=main-navbar class="navbar fixed-top bg-light navbar-expand-md navbar-light" aria-label=site_top_menu><div class="container px-md-0"><a class=navbar-brand href=/>AR Shovon
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#site_top_menu aria-controls=site_top_menu aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=site_top_menu><div class=mx-auto><ul class="navbar-nav me-auto mb-2 mb-md-0"><li class=nav-item><a class=nav-link title=Home href=/><i class="fa fa-home me-1"></i>
Home</a></li><li class=nav-item><a class=nav-link title=Education href=/#Education><i class="fa fa-graduation-cap me-1"></i>
Education</a></li><li class=nav-item><a class=nav-link title=Experiences href=/#Experiences><i class="fa fa-briefcase me-1"></i>
Experiences</a></li><li class=nav-item><a class=nav-link title=Publications href=/#Publications><i class="fa fa-book me-1"></i>
Publications</a></li><li class=nav-item><a class=nav-link title=Projects href=/#Projects><i class="fa fa-code me-1"></i>
Projects</a></li><li class=nav-item><a class=nav-link title=Awards href=/#Awards><i class="fa fa-award me-1"></i>
Awards</a></li><li class=nav-item><a class=nav-link title=Services href=/#Services><i class="fa fa-handshake me-1"></i>
Services</a></li><li class=nav-item><a class=nav-link title="Blog posts" href=/blog><i class="fa fa-laptop-code fa-lg me-1"></i>
Blog</a></li></ul></div></div></div></nav></header><body><div class="container-fluid container-xl bg-white"><div class=row><header class="text-bg-light px-md-2 pb-md-2 text-center list-jumbotron"><h1 class="pt-5 fs-3 text-center">Run a Python script inside a virtual environment in the background</h1><h2 class="text-center fs-5 mb-5">By
Ahmedur Rahman Shovon</h2><div class="mb-1 clearfix d-print-none"><small class=d-block>Published
<time datetime=2022-03-18T03:03:14-05:00>March 18, 2022</time>, Updated
<time datetime=2025-09-15T16:56:26-05:00></i>September 15, 2025</time>
</small><span class=me-2><a href=https://arshovon.com/categories/ class="badge text-bg-secondary me-1" title="All categories"><i class="fa fa-folder-open"></i></a>
<a href=https://arshovon.com/categories/python class="badge text-bg-secondary" title=python>python</a>
<a href=https://arshovon.com/categories/high-performance-computing class="badge text-bg-secondary" title="High-performance computing">High-performance computing</a>
</span><span class=me-2><a href=https://arshovon.com/tags/ class="badge text-bg-secondary me-1" title="All tags"><i class="fa fa-tags"></i></a>
<a href=https://arshovon.com/tags/python class="badge text-bg-secondary" title=python>python</a></span></div></header><main class="col-12 col-xl-8 offset-xl-2 blog p-0" role=main><article><div class=p-3><h3 id=scenario>Scenario</h3><p>Suppose, we have a Python script that uses some Python packages.
To keep the global environment clean, we use a virtual environment (<code>venv</code>) to install the dependencies.
Let&rsquo;s assume, the script requires a long time to finish.
We may need to check the intermediate results (e.g. print statement debugging) from the script during the execution process.
We also want to run the script in the background without blocking a terminal window.</p><p>I will mock this scenario and will show how to run the Python script inside a virtual environment in the background that writes partial output to a file.</p><h3 id=running-script-in-the-foreground>Running script in the foreground</h3><ul><li>Create and activate virtual environment using Python 3:</li></ul><pre tabindex=0><code>python3 -m venv venv
source venv/bin/activate
</code></pre><ul><li>Suppose the required packages are listed in <code>requirements.txt</code>:</li></ul><pre tabindex=0><code>numpy==1.22.3
</code></pre><ul><li>Install the required packages:</li></ul><pre tabindex=0><code>pip install -r requirements.txt
</code></pre><ul><li><p>Create a Python script that generates 3 random integers and sleep for 5 seconds at each step. It continues the process until 30 integers are generated. The code is listed in <code>background_script.py</code> file:</p><pre tabindex=0><code>import time
from datetime import datetime
import numpy as np

count = 0
while True:
    current_time = datetime.now()
    rng = np.random.default_rng()
    random_integers = rng.integers(low=0, high=10 ** 6, size=3)
    print(f&#34;{current_time}: {random_integers}&#34;)
    count += 1
    if count == 10:
        print(f&#34;Script completed&#34;)
        break
    time.sleep(5)
</code></pre></li><li><p>Run the Python script (<code>background_script.py</code>):</p></li></ul><pre tabindex=0><code>python background_script.py
</code></pre><ul><li>It shows 3 random numbers continuously each 5 seconds.
The script takes 50 seconds to complete and will stop after printing 30 random numbers:</li></ul><pre tabindex=0><code>2022-03-18 04:18:12.376506: [874273 493185 580873]
2022-03-18 04:18:17.378234: [175390 989369 463402]
2022-03-18 04:18:22.382138: [721299 669516 197204]
2022-03-18 04:18:27.386138: [537835 627442 400862]
...
...
Script completed
</code></pre><h3 id=running-script-using-bash-in-the-background>Running script using Bash in the background</h3><ul><li>Let&rsquo;s create a Shell script (<code>run_bg.sh</code>) in the same directory that activates the virtual environment and runs the Python script. We have used <code>-u</code> parameter in the Python run command that enables printing the partial outputs to the standard output:</li></ul><pre tabindex=0><code>#!/usr/bin/env bash
set -e
source &#34;./venv/bin/activate&#34;
python -u background_script.py
</code></pre><ul><li>Run the script in the foreground to check if it can activate the virtual environment and runs the Python script:</li></ul><pre tabindex=0><code>./run_bg.sh
</code></pre><ul><li>If the above Shell script runs without error, we try to run it in a background process using <code>nohup</code> command. This will write the partial outputs to a file (<code>custom-output.log</code>):</li></ul><pre tabindex=0><code>nohup ./run_bg.sh &gt; custom-output.log &amp;
</code></pre><ul><li>We can see the partial output using:</li></ul><pre tabindex=0><code>cat custom-output.log
</code></pre><pre><code>![alt Run Python Script in background with partial output](/blog/images/python_background.png)
</code></pre><ul><li>Sometimes we may need to stop the script running in the background. We need to kill the process which runs the script to do so. The following command will list the process ID for the script:</li></ul><pre tabindex=0><code>ps aux | grep background_script.py
</code></pre><pre><code>It will return the process details which contain the process ID, typically in the second column.
</code></pre><p>Then we can kill the process by using:</p><pre tabindex=0><code>kill PROCESS_ID
</code></pre><h3 id=use-case>Use case</h3><p>I was trying to run a hefty Python script that requires a virtual environment in a cluster computing platform.
I did not want to keep the terminal session open as the script would take days to finish.
I also wanted to see the partial output while the script was running.</p><p>So, I followed this approach to run the Python script inside a virtual environment in the background that wrote the partial output to a file.</p><h3 id=references>References</h3><ul><li><a href=https://man7.org/linux/man-pages/man1/sh.1p.html>sh command man page</a></li><li><a href=https://man7.org/linux/man-pages/man1/nohup.1.html>nohup(1) — Linux manual page</a></li></ul><div class="d-print-none col-12 my-4 pb-4 border-top border-bottom"><p class="text-muted text-center"><small>Advertisement</small></p><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4737800736768640" crossorigin=anonymous></script><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-4737800736768640 data-ad-slot=3931195519></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></article><div class=p-3><h4 class="mb-2 mt-4">Citation</h4><span class=lead>Click to select citation style</span><div class="accordion mb-3" id=citations><div class=accordion-item><h2 class=accordion-header><button class="accordion-button collapsed lead fw-bold" type=button data-bs-toggle=collapse data-bs-target=#flush-collapseOne aria-expanded=false aria-controls=flush-collapseOne>
APA Style</button></h2><div id=flush-collapseOne class="accordion-collapse collapse" data-bs-parent=#citations><div class=accordion-body>Shovon, A. R.
(2022, March 18).
<i>Run a Python script inside a virtual environment in the background</i>.
Ahmedur Rahman Shovon.
Retrieved October 24, 2025, from
<a href=https://arshovon.com/blog/python-background/>https://arshovon.com/blog/python-background/</a></div></div></div><div class=accordion-item><h2 class=accordion-header><button class="accordion-button collapsed lead fw-bold" type=button data-bs-toggle=collapse data-bs-target=#flush-collapseTwo aria-expanded=false aria-controls=flush-collapseTwo>
MLA Style</button></h2><div id=flush-collapseTwo class="accordion-collapse collapse" data-bs-parent=#citations><div class=accordion-body>Shovon, Ahmedur Rahman.
“Run a Python script inside a virtual environment in the background.”
<i>Ahmedur Rahman Shovon</i>,
18 Mar. 2022.
Web.
24 Oct. 2025.
<a href=https://arshovon.com/blog/python-background/>https://arshovon.com/blog/python-background/</a>.</div></div></div><div class=accordion-item><h2 class=accordion-header><button class="accordion-button collapsed lead fw-bold" type=button data-bs-toggle=collapse data-bs-target=#flush-collapseThree aria-expanded=false aria-controls=flush-collapseThree>
BibTeX entry</button></h2><div id=flush-collapseThree class="accordion-collapse collapse" data-bs-parent=#citations><div class=accordion-body><pre>
@misc{shovon_2022_run,
    author = "Shovon, Ahmedur Rahman",
    title = "Run a Python script inside a virtual environment in the background",
    year = "2022",
    url = "https://arshovon.com/blog/python-background/",
    note = "[Online]"
}
</pre></div></div></div></div><h5 class="d-print-none mb-2 mt-4">Related contents in this website</h5><div class="d-print-none card-group"><div class=card><img src=/blog/images/CUDF_VS_PANDAS.png class="card-img-top shadow" alt="cuDF vs Pandas dataframe performance comparison"><div class=card-body><a href=https://arshovon.com/blog/cudf-vs-df/><h5 class=card-title>cuDF vs Pandas dataframe performance comparison</h5></a></div><div class=card-footer><span class="text_muted small"><span class=me-2><a href=https://arshovon.com/categories/ class="badge text-bg-secondary me-1" title="All categories"><i class="fa fa-folder-open"></i></a>
<a href=https://arshovon.com/categories/python class="badge text-bg-secondary" title=python>python</a>
<a href=https://arshovon.com/categories/high-performance-computing class="badge text-bg-secondary" title="High-performance computing">High-performance computing</a>
<a href=https://arshovon.com/categories/gpgpu class="badge text-bg-secondary" title=GPGPU>GPGPU</a></span></span></div></div><div class=card><img src=/blog/images/sorting_a_list_in_python3.png class="card-img-top shadow" alt="Sorting a list (Python 3)"><div class=card-body><a href=https://arshovon.com/blog/sorting-a-list-python3/><h5 class=card-title>Sorting a list (Python 3)</h5></a></div><div class=card-footer><span class="text_muted small"><span class=me-2><a href=https://arshovon.com/categories/ class="badge text-bg-secondary me-1" title="All categories"><i class="fa fa-folder-open"></i></a>
<a href=https://arshovon.com/categories/python class="badge text-bg-secondary" title=python>python</a></span></span></div></div><div class=card><img src=/blog/images/docker-dpc++.png class="card-img-top shadow" alt="Introduction to SYCL and DPC++"><div class=card-body><a href=https://arshovon.com/blog/sycl-docker-interactive/><h5 class=card-title>Introduction to SYCL and DPC++</h5></a></div><div class=card-footer><span class="text_muted small"><span class=me-2><a href=https://arshovon.com/categories/ class="badge text-bg-secondary me-1" title="All categories"><i class="fa fa-folder-open"></i></a>
<a href=https://arshovon.com/categories/sycl class="badge text-bg-secondary" title=SYCL>SYCL</a>
<a href=https://arshovon.com/categories/high-performance-computing class="badge text-bg-secondary" title="High-performance computing">High-performance computing</a>
<a href=https://arshovon.com/categories/gpgpu class="badge text-bg-secondary" title=GPGPU>GPGPU</a></span></span></div></div></div><div class="d-print-none row row-cols-1 row-cols-md-2 g-4 mt-2"><div class=col><div class="card mb-3 bg-light border-light h-100"><img src=/blog/images/sorting_a_list_in_python3.png class="card-img-top shadow" alt="Run a Python script inside a virtual environment in the background"><div class=card-body><h5 class=card-title><i class="fa fa-chevron-left pe-1"></i> Previous post</h5><p class=card-text><a href=https://arshovon.com/blog/sorting-a-list-python3/ class="pt-2 pb-2">Sorting a list (Python 3)</a></p></div><div class=card-footer><span class="text_muted small"><time datetime=2022-01-16T07:01:32-06:00><i class="fa fa-calendar pe-1"></i>January 16, 2022</time></span></div></div></div><div class=col><div class="card mb-3 bg-light text-md-end border-light h-100"><img src=/blog/images/CUDF_VS_PANDAS.png class="card-img-top shadow" alt="Run a Python script inside a virtual environment in the background"><div class=card-body><h5 class=card-title>Next post <i class="fa fa-chevron-right pe-1"></i></h5><p class=card-text><a href=https://arshovon.com/blog/cudf-vs-df/ class="pt-2 pb-2">cuDF vs Pandas dataframe performance comparison</a></p></div><div class=card-footer><span class="text_muted small"><time datetime=2022-08-01T08:01:14-05:00><i class="fa fa-calendar pe-1"></i>August 1, 2022</time></span></div></div></div></div><div class="d-print-none shadow-lg row p-0 m-0 mt-4 footer-profile"><div class="m-auto p-lg-2"><div class="card border-0"><div class=card-body><div class=row><div class=col-md-2><img src=/avatar/AhmedurRahmanShovon.jpg class="shadow-sm img-thumbnail" alt="Ahmedur Rahman Shovon"></div><div class="col-md-10 my-auto mx-md-0 px-md-0"><h5 class="card-title m-0 p-0"><small><a href=/>Ahmedur Rahman Shovon</a></small></h5><small class="well m-0 p-0">Postdoctoral Appointee
at
<a href=https://anl.gov/ title="Argonne National Laboratory">Argonne National Laboratory</a></small><ul class="list-inline m-md-0 p-md-0"><li class=list-inline-item><small><i class="fas fa-graduation-cap fa-fw mr-1"></i>
<a href="https://scholar.google.com/citations?hl=en&amp;user=6yvWyoYAAAAJ" title="Google Scholar Profile">Google Scholar</a></small></li><li class=list-inline-item><small><i class="fab fa-linkedin fa-fw mr-1"></i>
<a href=https://www.linkedin.com/in/arshovon/ title="Linkedin profile">arshovon</a></small></li><li class=list-inline-item><small><i class="fab fa-github fa-fw mr-1"></i>
<a href=https://github.com/arsho/ title="Github profile">arsho</a></small></li><li class=list-inline-item><small><i class="fas fa-file-pdf fa-fw mr-1"></i>
<a href=/cv/Shovon_CV.pdf title="Curriculum Vitae">Curriculum Vitae</a></small></li></ul></div></div></div></div></div></div></div></main></div></div><footer class="footer d-print-none"><div class=text-center><small>Last updated: Sep 15, 2025,
<a href=/privacy>Privacy Policy</a><br>© Copyright 2025 <a href=https://arshovon.com/>Ahmedur Rahman Shovon</a>&nbsp, Logos © respective owners</small></div></footer><div id=back-to-top class="d-print-none sticky-bottom float-end d-inline d-none"><button class="btn m-0 p-0 text-secondary" data-bs-toggle=tooltip data-bs-placement=top data-bs-title="Go to top">
<span class="fa-stack me-md-0 pe-md-0"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-arrow-up fa-stack-1x fa-inverse"></i></span></button></div><script defer src=https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js integrity=sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa crossorigin=anonymous></script><script defer src=https://arshovon.com/assets/js/arsho.js></script><script>hljs.highlightAll(),hljs.addPlugin(new CopyButtonPlugin)</script></body></html>